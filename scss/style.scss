* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

$squareWidth: 100px;

body {
  height: 100vh;
}

@mixin translate($posX: -50%, $posY: -50%, $deg: 0) {
  transform: translate($posX, $posY) rotate($deg + deg);
}
@mixin relativeCenter($posX: 50%, $posY: 50%) {
  position: relative;
  top: $posX;
  left: $posY;
  // transform: translate(-50%, -50%);
  @include translate();
}

.square {
  width: $squareWidth;
  height: $squareWidth;
  background-color: red;
  transition: all 1s ease-in;
  @include relativeCenter();

  &__triangle {
    position: absolute;
    top: 0;
    left: 0;
    width: 0;
    height: 0;
    border-left: 50px solid transparent;
    border-right: 50px solid transparent;
    border-bottom: 100px solid blue;

    transition: all 1s ease-out;

    &_top {
      transform: rotate(0deg);
      // @include translate(0, -100%)
    }
    &_right {
      transform: rotate(90deg);
    }
    &_bottom {
      transform: rotate(180deg);
    }
    &_left {
      transform: rotate(-90deg);
    }
  }
  input {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    z-index: 1;
  }

  &:has(input:checked) {
    background-color: blueviolet;
    animation: around 1s normal infinite linear,
      spinner 3s infinite normal linear;

    .square__triangle {
      border-bottom: 100px solid blueviolet;

      &_top {
        @include translate(0, -100%, 0);
      }
      &_right {
        @include translate(100%, 0, 90);
      }
      &_bottom {
        @include translate(0, 100%, 180);
      }
      &_left {
        @include translate(-100%, 0, -90);
      }
    }
  }
}

@keyframes around {
  0% {
    border-radius: 0%;
  }
  25% {
    border-radius: 25%;
  }
  50% {
    border-radius: 50%;
  }
  75% {
    border-radius: 25%;
  }

  100% {
    border-radius: 0%;
  }
}

@keyframes spinner {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
